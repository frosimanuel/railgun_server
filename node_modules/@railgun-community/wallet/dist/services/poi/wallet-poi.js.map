{"version":3,"file":"wallet-poi.js","sourceRoot":"","sources":["../../../src/services/poi/wallet-poi.ts"],"names":[],"mappings":";;;AAAA,sDAMmC;AACnC,iEAA4D;AAC5D,oEAAsE;AAEtE,MAAa,SAAS;IACpB,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;IAEvB,MAAM,CAAC,IAAI,CAAC,gBAAkC,EAAE,WAAsB;QACpE,MAAM,QAAQ,GAAc,CAAC,GAAG,kCAAkB,EAAE,GAAG,WAAW,CAAC,CAAC;QACpE,YAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,MAAM,CAAC,6BAA6B,GAAG,CACrC,WAAsB,EACD,EAAE;QACvB,MAAM,YAAY,GAAG,IAAI,yCAAkB,CAAC,WAAW,CAAC,CAAC;QACzD,MAAM,uBAAuB,GAAwB,CACnD,WAAW,EACX,KAAK,EACL,IAAI,EACJ,KAAK,EACL,UAAU,EACV,EAAE,CACF,YAAY,CAAC,6BAA6B,CACxC,WAAW,EACX,KAAK,EACL,IAAI,EACJ,KAAK,EACL,UAAU,CACX,CAAC;QACJ,OAAO,uBAAuB,CAAC;IACjC,CAAC,CAAC;IAEF,MAAM,CAAC,gCAAgC,GAAG,CACxC,WAAsB,EACS,EAAE;QACjC,MAAM,YAAY,GAAG,IAAI,yCAAkB,CAAC,WAAW,CAAC,CAAC;QACzD,MAAM,6BAA6B,GAAkC,CACnE,WAAW,EACX,KAAK,EACL,EAAE,CAAC,YAAY,CAAC,6BAA6B,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACpE,OAAO,6BAA6B,CAAC;IACvC,CAAC,CAAC;;AAvCJ,8BAwCC","sourcesContent":["import {\n  GetLatestValidatedRailgunTxid,\n  POI,\n  POIList,\n  POINodeInterface,\n  MerklerootValidator,\n} from '@railgun-community/engine';\nimport { WalletPOIRequester } from './wallet-poi-requester';\nimport { POI_REQUIRED_LISTS } from '@railgun-community/shared-models';\n\nexport class WalletPOI {\n  static started = false;\n\n  static init(poiNodeInterface: POINodeInterface, customLists: POIList[]) {\n    const poiLists: POIList[] = [...POI_REQUIRED_LISTS, ...customLists];\n    POI.init(poiLists, poiNodeInterface);\n    this.started = true;\n  }\n\n  static getPOITxidMerklerootValidator = (\n    poiNodeURLs?: string[],\n  ): MerklerootValidator => {\n    const poiRequester = new WalletPOIRequester(poiNodeURLs);\n    const txidMerklerootValidator: MerklerootValidator = (\n      txidVersion,\n      chain,\n      tree,\n      index,\n      merkleroot,\n    ) =>\n      poiRequester.validateRailgunTxidMerkleroot(\n        txidVersion,\n        chain,\n        tree,\n        index,\n        merkleroot,\n      );\n    return txidMerklerootValidator;\n  };\n\n  static getPOILatestValidatedRailgunTxid = (\n    poiNodeURLs?: string[],\n  ): GetLatestValidatedRailgunTxid => {\n    const poiRequester = new WalletPOIRequester(poiNodeURLs);\n    const getLatestValidatedRailgunTxid: GetLatestValidatedRailgunTxid = (\n      txidVersion,\n      chain,\n    ) => poiRequester.getLatestValidatedRailgunTxid(txidVersion, chain);\n    return getLatestValidatedRailgunTxid;\n  };\n}\n"]}