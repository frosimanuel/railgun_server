{"version":3,"file":"artifact-downloader.test.js","sourceRoot":"","sources":["../../../../src/services/artifacts/__tests__/artifact-downloader.test.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference types=\"../../../types/global\" />\nimport chai from 'chai';\nimport chaiAsPromised from 'chai-as-promised';\nimport { Artifact, ArtifactName } from '@railgun-community/shared-models';\nimport { initTestEngine } from '../../../tests/setup.test';\nimport {\n  clearArtifactCache,\n  overrideArtifact,\n  artifactGetterDownloadJustInTime,\n  artifactCache,\n  setUseNativeArtifacts,\n} from '../../railgun/core/artifacts';\nimport { PublicInputsRailgun } from '@railgun-community/engine';\nimport { getArtifactVariantString } from '../artifact-util';\n\nchai.use(chaiAsPromised);\nconst { expect } = chai;\n\ndescribe('artifact-downloader', () => {\n  before(async () => {\n    const useNativeArtifacts = false;\n    await initTestEngine(useNativeArtifacts);\n  });\n\n  it('Should set and get artifacts', async () => {\n    setUseNativeArtifacts(false);\n\n    clearArtifactCache();\n\n    const inputs11By2: PublicInputsRailgun = {\n      nullifiers: [\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n      ],\n      merkleRoot: BigInt(0),\n      boundParamsHash: BigInt(0),\n      commitmentsOut: [BigInt(0), BigInt(1)],\n    };\n    await expect(\n      artifactGetterDownloadJustInTime.getArtifacts(inputs11By2),\n    ).to.be.rejectedWith('No artifacts for inputs: 11-2');\n\n    const mockArtifact: Artifact = {\n      [ArtifactName.ZKEY]: Buffer.from('123'),\n      [ArtifactName.WASM]: Buffer.from('456'),\n      [ArtifactName.DAT]: undefined,\n      [ArtifactName.VKEY]: { data: '789' },\n    };\n    const artifactVariantString2by2 = getArtifactVariantString(2, 2);\n    overrideArtifact(artifactVariantString2by2, mockArtifact);\n\n    // Pre-set in test.\n    const inputs2By2: PublicInputsRailgun = {\n      nullifiers: [BigInt(1), BigInt(2)],\n      merkleRoot: BigInt(0),\n      boundParamsHash: BigInt(0),\n      commitmentsOut: [BigInt(0), BigInt(1)],\n    };\n    await expect(artifactGetterDownloadJustInTime.getArtifacts(inputs2By2)).to\n      .be.fulfilled;\n  });\n\n  it('Should get artifacts from cache - poi', async () => {\n    setUseNativeArtifacts(false);\n\n    clearArtifactCache();\n\n    await expect(\n      artifactGetterDownloadJustInTime.getArtifactsPOI(13, 12),\n    ).to.be.rejectedWith('Invalid POI artifact: POI_13x12.');\n\n    const mockArtifact: Artifact = {\n      [ArtifactName.ZKEY]: Buffer.from('123'),\n      [ArtifactName.WASM]: Buffer.from('456'),\n      [ArtifactName.DAT]: undefined,\n      [ArtifactName.VKEY]: { data: '789' },\n    };\n    overrideArtifact('POI_13x13', mockArtifact);\n\n    await expect(artifactGetterDownloadJustInTime.getArtifactsPOI(13, 13)).to.be\n      .fulfilled;\n  });\n\n  it('Should download artifacts - poi snarkjs', async () => {\n    setUseNativeArtifacts(false);\n\n    clearArtifactCache();\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts3x3: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifactsPOI(3, 3);\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts13x13: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifactsPOI(13, 13);\n\n    expect(artifacts3x3.vkey).to.not.be.undefined;\n    expect(artifacts3x3.zkey).to.not.be.undefined;\n    expect(artifacts3x3.wasm).to.not.be.undefined;\n    expect(artifacts3x3.dat).to.be.undefined;\n\n    expect(artifacts13x13.vkey).to.not.be.undefined;\n    expect(artifacts13x13.zkey).to.not.be.undefined;\n    expect(artifacts13x13.wasm).to.not.be.undefined;\n    expect(artifacts13x13.dat).to.be.undefined;\n\n    const cached = artifactCache.POI_13x13;\n    expect(cached?.vkey).to.not.be.undefined;\n    expect(cached?.zkey).to.not.be.undefined;\n    expect(cached?.wasm).to.not.be.undefined;\n    expect(cached?.dat).to.be.undefined;\n  }).timeout(30_000);\n\n  it('Should download artifacts - poi native', async () => {\n    setUseNativeArtifacts(true);\n\n    clearArtifactCache();\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts3x3: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifactsPOI(3, 3);\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts13x13: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifactsPOI(13, 13);\n\n    expect(artifacts3x3.vkey).to.not.be.undefined;\n    expect(artifacts3x3.zkey).to.not.be.undefined;\n    expect(artifacts3x3.wasm).to.be.undefined;\n    expect(artifacts3x3.dat).to.not.be.undefined;\n\n    expect(artifacts13x13.vkey).to.not.be.undefined;\n    expect(artifacts13x13.zkey).to.not.be.undefined;\n    expect(artifacts13x13.wasm).to.be.undefined;\n    expect(artifacts13x13.dat).to.not.be.undefined;\n\n    const cached = artifactCache.POI_13x13;\n    expect(cached?.vkey).to.not.be.undefined;\n    expect(cached?.zkey).to.not.be.undefined;\n    expect(cached?.wasm).to.be.undefined;\n    expect(cached?.dat).to.not.be.undefined;\n  }).timeout(30_000);\n\n  it('Should download artifacts - snarkjs', async () => {\n    setUseNativeArtifacts(false);\n\n    clearArtifactCache();\n\n    // Requires download.\n    const inputs: PublicInputsRailgun = {\n      nullifiers: [\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n      ],\n      merkleRoot: BigInt(0),\n      boundParamsHash: BigInt(0),\n      commitmentsOut: [BigInt(0), BigInt(1)],\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifacts(inputs);\n\n    expect(artifacts.vkey).to.not.be.undefined;\n    expect(artifacts.zkey).to.not.be.undefined;\n    expect(artifacts.wasm).to.not.be.undefined;\n    expect(artifacts.dat).to.be.undefined;\n\n    const cached = artifactCache['8x2'];\n    expect(cached?.vkey).to.not.be.undefined;\n    expect(cached?.zkey).to.not.be.undefined;\n    expect(cached?.wasm).to.not.be.undefined;\n    expect(cached?.dat).to.be.undefined;\n  }).timeout(30_000);\n\n  it('Should download artifacts - native', async () => {\n    setUseNativeArtifacts(true);\n\n    clearArtifactCache();\n\n    // Requires download.\n    const inputs: PublicInputsRailgun = {\n      nullifiers: [\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n        BigInt(1),\n      ],\n      merkleRoot: BigInt(0),\n      boundParamsHash: BigInt(0),\n      commitmentsOut: [BigInt(0), BigInt(1), BigInt(1)],\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const artifacts: Artifact =\n      await artifactGetterDownloadJustInTime.getArtifacts(inputs);\n\n    expect(artifacts.vkey).to.not.be.undefined;\n    expect(artifacts.zkey).to.not.be.undefined;\n    expect(artifacts.wasm).to.be.undefined;\n    expect(artifacts.dat).to.not.be.undefined;\n\n    const cached = artifactCache['6x3'];\n    expect(cached?.vkey).to.not.be.undefined;\n    expect(cached?.zkey).to.not.be.undefined;\n    expect(cached?.wasm).to.be.undefined;\n    expect(cached?.dat).to.not.be.undefined;\n  }).timeout(30_000);\n\n  // Skipped because we don't want to run this on every build.\n  it.skip('Should download ALL artifacts - native and nodejs', async () => {\n    setUseNativeArtifacts(true);\n\n    clearArtifactCache();\n\n    for (let i = 1; i <= 10; i += 1) {\n      for (let j = 1; j <= 3; j += 1) {\n        if (i === 10 && j === 5) {\n          continue;\n        }\n\n        // console.log(`NATIVE: ${i}x${j}...`);\n\n        const inputs: PublicInputsRailgun = {\n          nullifiers: new Array<bigint>(i),\n          merkleRoot: BigInt(0),\n          boundParamsHash: BigInt(0),\n          commitmentsOut: new Array<bigint>(j),\n        };\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const artifacts: Artifact =\n          // eslint-disable-next-line no-await-in-loop\n          await artifactGetterDownloadJustInTime.getArtifacts(inputs);\n\n        expect(artifacts.vkey).to.not.be.undefined;\n        expect(artifacts.zkey).to.not.be.undefined;\n        expect(artifacts.wasm).to.be.undefined;\n        expect(artifacts.dat).to.not.be.undefined;\n      }\n    }\n\n    clearArtifactCache();\n    setUseNativeArtifacts(false);\n\n    for (let i = 1; i <= 10; i += 1) {\n      for (let j = 1; j <= 5; j += 1) {\n        if (i === 10 && j === 5) {\n          continue;\n        }\n\n        // console.log(`NODEJS: ${i}x${j}...`);\n\n        const inputs: PublicInputsRailgun = {\n          nullifiers: new Array<bigint>(i),\n          merkleRoot: BigInt(0),\n          boundParamsHash: BigInt(0),\n          commitmentsOut: new Array<bigint>(j),\n        };\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const artifacts: Artifact =\n          // eslint-disable-next-line no-await-in-loop\n          await artifactGetterDownloadJustInTime.getArtifacts(inputs);\n\n        expect(artifacts.vkey).to.not.be.undefined;\n        expect(artifacts.zkey).to.not.be.undefined;\n        expect(artifacts.wasm).to.not.be.undefined;\n        expect(artifacts.dat).to.be.undefined;\n      }\n    }\n  }).timeout(30_000);\n});\n"]}